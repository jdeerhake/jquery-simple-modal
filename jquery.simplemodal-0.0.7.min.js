/*!
 * $ Simple Modal plugin
 * Author: John Deerhake, @jdeerhake
 * Version 0.0.7
 * Licensed under the MIT license
 */
!function(a){function b(){d=a("<div />",{"class":"simple-modal-backdrop"}).appendTo("body")}function c(b,c){a.extend(this,c),this.el=a(b),this.isShown=!1,this.init()}var d,e=300,f={"class":"simple-modal-box"};c.prototype={init:function(){d||b(),this.modal={},this.modal.el=a("<div />",{"class":this["class"]}).appendTo("body"),this.modal.el.append(this.el.remove().show()).css({left:0,top:0,position:"fixed"}),this.bindings()},bindings:function(){this.el.on("show",a.proxy(this,"show")),this.el.on("hide",a.proxy(this,"hide")),this.el.on("change",a.proxy(this,"center"));var b=a.proxy(function(){return this.el.trigger("show"),!1},this),c=a.proxy(function(){return this.el.trigger("hide"),!1},this);d.on("click",c),this.el.on("click",".close",c),a(document).on("keyup",function(a){27===a.keyCode&&c()}),this.trigger&&this.trigger.on("click",b),this.el.find(".close").on("click")},show:function(){return this.isShown?!1:(this.isShown=!0,d.show(),this.center(),this.modal.el.fadeIn(e).show(),!1)},hide:function(){return this.isShown?(this.isShown=!1,d.fadeOut(e),this.modal.el.fadeOut(e,a.proxy(function(){this.el.trigger("hidden")},this)),!1):!1},center:function(){this.modal.el.css({marginLeft:-1*Math.floor(this.modal.el.outerWidth()/2),marginTop:-1*Math.floor(this.modal.el.outerHeight()/2),position:"fixed",top:"50%",left:"50%"})}},a.fn.simpleModal=function(b){var d=a.extend({},f,b);return this.each(function(){new c(this,d)})}}(jQuery);